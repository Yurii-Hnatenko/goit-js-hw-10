{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\n    function isFutureDate(selectedDate) {\n        const currentDate = new Date();\n        return selectedDate > currentDate;\n    }\n\n    function convertMs(ms) {\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n        const days = Math.floor(ms / day);\n        const hours = Math.floor((ms % day) / hour);\n        const minutes = Math.floor(((ms % day) % hour) / minute);\n        const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n        return { days, hours, minutes, seconds };\n    }\n    const datePicker = flatpickr(\"#datetime-picker\", {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n            const selectedDate = selectedDates[0];\n            if (!isFutureDate(selectedDate)) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Please choose a date in the future',\n                });\n                document.getElementById(\"start-btn\").disabled = true;\n            } else {\n                document.getElementById(\"start-btn\").disabled = false;\n            }\n        },\n    });\n    function addLeadingZero(value) {\n        return value < 10 ? \"0\" + value : value;\n    }\n    function startTimer() {\n        const selectedDate = datePicker.selectedDates[0];\n        const timerInterval = setInterval(() => {\n            const currentDate = new Date();\n            const remainingTime = selectedDate - currentDate;\n\n            if (remainingTime <= 0) {\n                clearInterval(timerInterval);\n                document.getElementById(\"days\").textContent = \"00\";\n                document.getElementById(\"hours\").textContent = \"00\";\n                document.getElementById(\"minutes\").textContent = \"00\";\n                document.getElementById(\"seconds\").textContent = \"00\";\n                return;\n            }\n\n            const { days, hours, minutes, seconds } = convertMs(remainingTime);\n            document.getElementById(\"days\").textContent = addLeadingZero(days);\n            document.getElementById(\"hours\").textContent = addLeadingZero(hours);\n            document.getElementById(\"minutes\").textContent = addLeadingZero(minutes);\n            document.getElementById(\"seconds\").textContent = addLeadingZero(seconds);\n        }, 1000);\n    }\n    document.getElementById(\"start-btn\").addEventListener(\"click\", startTimer);\n});\n"],"names":["isFutureDate","selectedDate","convertMs","ms","days","hours","minutes","seconds","datePicker","selectedDates","addLeadingZero","value","startTimer","timerInterval","remainingTime"],"mappings":"wFAAA,SAAS,iBAAiB,mBAAoB,UAAW,CACrD,SAASA,EAAaC,EAAc,CAEhC,OAAOA,EADa,IAAI,IAE3B,CAED,SAASC,EAAUC,EAAI,CAKnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACzC,CACD,MAAMC,EAAa,UAAU,mBAAoB,CAC7C,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMR,EAAeQ,EAAc,CAAC,EAC/BT,EAAaC,CAAY,EAO1B,SAAS,eAAe,WAAW,EAAE,SAAW,IANhD,SAAS,MAAM,CACX,MAAO,QACP,QAAS,oCAC7B,CAAiB,EACD,SAAS,eAAe,WAAW,EAAE,SAAW,GAIvD,CACT,CAAK,EACD,SAASS,EAAeC,EAAO,CAC3B,OAAOA,EAAQ,GAAK,IAAMA,EAAQA,CACrC,CACD,SAASC,GAAa,CAClB,MAAMX,EAAeO,EAAW,cAAc,CAAC,EACzCK,EAAgB,YAAY,IAAM,CAEpC,MAAMC,EAAgBb,EADF,IAAI,KAGxB,GAAIa,GAAiB,EAAG,CACpB,cAAcD,CAAa,EAC3B,SAAS,eAAe,MAAM,EAAE,YAAc,KAC9C,SAAS,eAAe,OAAO,EAAE,YAAc,KAC/C,SAAS,eAAe,SAAS,EAAE,YAAc,KACjD,SAAS,eAAe,SAAS,EAAE,YAAc,KACjD,MACH,CAED,KAAM,CAAE,KAAAT,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUY,CAAa,EACjE,SAAS,eAAe,MAAM,EAAE,YAAcJ,EAAeN,CAAI,EACjE,SAAS,eAAe,OAAO,EAAE,YAAcM,EAAeL,CAAK,EACnE,SAAS,eAAe,SAAS,EAAE,YAAcK,EAAeJ,CAAO,EACvE,SAAS,eAAe,SAAS,EAAE,YAAcI,EAAeH,CAAO,CAC1E,EAAE,GAAI,CACV,CACD,SAAS,eAAe,WAAW,EAAE,iBAAiB,QAASK,CAAU,CAC7E,CAAC"}